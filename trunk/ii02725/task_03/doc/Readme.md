<p align="center">Министерство образования Республики Беларусь</p>
<p align="center">Учреждение образования</p>
<p align="center">“Брестский Государственный технический университет”</p>
<p align="center">Кафедра ИИТ</p>
<br><br><br><br><br><br><br>
<p align="center">Лабораторная работа №3</p>
<p align="center">По дисциплине “Общая теория интеллектуальных систем”</p>
<p align="center">Тема: “Моделирование системы автоматического управления с ПИД-регулятором для объекта теплового класса.”</p>
<br><br><br><br><br>
<p align="right">Выполнил:</p>
<p align="right">Студент 2 курса</p>
<p align="right">Группы ИИ-27</p>
<p align="right">Хотенко В. В.</p>
<p align="right">Проверил:</p>
<p align="right">Дворанинович Д.А.</p>
<br><br><br><br><br>
<p align="center">Брест 2025</p>

1. Написать отчет по выполненной лабораторной работе №3 в .md формате (*readme.md*) и разместить его в следующем каталоге: **trunk\ii0xxyy\task_03\doc**.
2. Исходный код написанной программы разместить в каталоге: **trunk\ii0xxyy\task_03\src**.
3. Отразить выполнение работы в файле readme.md в соответствующей строке (например, для студента под порядковым номером 1 - https://github.com/brstu/OTIS-2025/edit/main/readme.md?#L17-L17).
4. Документировать исходный код программы с помощью комментариев в стиле **Doxygen**. Полученную документацию разместить в каталоге: **trunk\ii0xxyy\task_03\doc\html**. Настроить `GitHub Pages` для автоматической публикации документации из этого каталога.
5. Разработанная программа также должна быть покрыта модульными тестами, написанными с использованием **Google Test**. Тесты разместить в каталоге: **trunk\ii0xxyy\task_03\test**.

**Лабораторная работа №3.**

**ПИД-регуляторы**

Структурная схема системы автоматического управления с обратной связью показана на рис.1.

![1](images/1.png)

Система автоматического управления работает так: у нас есть цель — поддерживать нужное значение какой-либо величины (например, температуру в печи или скорость двигателя). Это желаемое значение называется задающим воздействием w(t). Фактическое значение на выходе системы — это y(t). Разница между ними — ошибка e(t) = w(t) - y(t).

Чтобы уменьшить эту ошибку, регулятор формирует управляющий сигнал u(t) на основе ошибки. На систему также могут влиять внешние возмущения z(t) (например, изменения нагрузки или температуры окружающей среды), которые стараются свести к минимуму.

Чтобы правильно настроить регулятор, нужно знать модель объекта управления — как он реагирует на управляющие сигналы. Эта модель обычно описывается уравнениями, а нахождение её параметров называется идентификацией объекта. Часто для типовых объектов модели уже известны, и нужно лишь подобрать коэффициенты экспериментально.

Выбор закона управления — главная задача при проектировании системы. Хотя можно создать сложный оптимальный регулятор, на практике часто используют простые и надёжные линейные регуляторы: П- (пропорциональный), ПИ- (пропорционально-интегральный) и ПИД- (пропорционально-интегрально-дифференциальный). Они хорошо справляются с большинством задач и легко настраиваются.
Идеализированное уравнение ПИД-регулятора имеет вид

![2](images/2.png)

где K - коэффициент передачи, T - постоянная интегрирования, T<sub>D</sub> - постоянная дифференцирования.
Эти три параметра подбирают в процессе настройки регулятора таким образом, чтобы максимально приблизить алгоритм функционирования системы к желаемому виду.
В зависимости от типа объекта управления может быть достаточным применение более простого П-регулятора

![3](images/3.png)

или ПИ-регулятора

![4](images/4.png)

которые являются частными случаями ПИД-регулятора при соответствующем выборе постоянных интегрирования и дифференцирования.
Графики переходных процессов регулируемой величины представлены на рис. 2-4. Зеленым цветом показана реакция на скачок объекта регулирования, синим цветом - выходная переменная в процессе регулирования, красным - изменение регулируемого параметра во времени.

![5](images/5.png)
Рисунок 0.2 П-регулятор. К = 10, T=0, TD=0

![6](images/6.png)
Рисунок 0.3 ПИ-регулятор. К=10, T=0.1, TD=0

![7](images/7.png)
Рисунок 0.4 ПИД-регулятор. K=10, T=0.1, TD =50

Для реализации системы автоматического регулирования на компьютере необходимо перейти от непрерывного времени к дискретному. Это связано с тем, что цифровые устройства работают с данными, измеренными в отдельные моменты времени.

Для этого выполняются следующие шаги:

Дискретизация по времени — значения сигналов измеряются через фиксированные промежутки времени T₀ (шаг дискретизации).

Преобразование сигналов:

Входные непрерывные сигналы преобразуются в цифровые с помощью АЦП (аналого-цифровой преобразователь).

Выходные цифровые сигналы преобразуются обратно в непрерывные с помощью ЦАП (цифро-аналоговый преобразователь).

Дискретизация уравнения ПИД-регулятора — непрерывное уравнение регулятора преобразуется в разностное уравнение путём:

Замены производной конечной разностью

Замены интеграла конечной суммой

В зависимости от выбранного метода дискретизации (например, метод прямоугольников, трапеций и др.) получаются различные версии дискретного ПИД-алгоритма. Например, при использовании метода прямоугольников для аппроксимации интеграла получаем...

![8](images/8.png)

где ![9](images/9.png)- порядковый номер отсчета дискретного времени.
Недостатком такого представления уравнения регулятора является необходимость помнить значения отклонений е(k) для всех моментов времени от начала процесса регулирования.
Этот недостаток можно устранить, если для вычисления текущего значения управляющей переменной u(k) использовать ее предыдущее значение u(k-1) и поправочный член. Для получения такого рекуррентного алгоритма достаточно вычесть из уравнения (4) следующее уравнение:

![10](images/10.png)

В результате получим:

![11](images/11.png)

где ![12](images/12.png)

![13](images/13.png)

![14](images/14.png)

Таким образом, для вычисления текущего значения управляющего воздействия u(k) на объект управления достаточно хранить в памяти только величины u(k-1), e(k), e(k-1), e(k-2), то есть величины

![15](images/15.png)

![16](images/16.png)

Итак, алгоритм работы ПИД-регулятора может быть представлен в следующем виде:

![17](images/17.png)

![18](images/18.png)

![19](images/19.png)

![20](images/20.png)

![21](images/21.png)

При переходе от непрерывного регулятора к дискретному неизбежно возникает погрешность. Эта погрешность связана с тем, что мы заменяем непрерывные операции (интеграл и производную) их приближёнными дискретными аналогами.
Точность такого приближения зависит от того, насколько быстро меняется сигнал ошибки e(t). Если e(t) меняется незначительно за время одного шага квантования T₀, то дискретная модель хорошо соответствует непрерывной. В противном случае погрешность может быть существенной.
Однако современные методы цифрового управления позволяют создавать эффективные регуляторы даже при относительно больших шагах квантования. Для этого используется z-преобразование и параметры дискретного регулятора q₀, q₁, q₂ подбираются напрямую методами параметрической оптимизации, а не просто рассчитываются из параметров непрерывного аналога.
Такой подход позволяет: 
Выбирать параметры регулятора независимо от его непрерывного прототипа
Оптимизировать регулятор под конкретную задачу управления
Получать требуемое качество регулирования даже при ограниченной частоте дискретизации
Шаг квантования T₀ также выбирается на основе практических требований, учитывая компромисс между точностью управления и вычислительными ресурсами системы.

**Задание.**
На **C++** реализовать программу, моделирующую рассмотренный выше ПИД-регулятор.  В качестве объекта управления использовать математическую модель, полученную в предыдущей работе.
В отчете также привести графики для разных заданий температуры объекта, пояснить полученные результаты.


## Код программы [ src/main.cpp ]
```C++
/**
 * @file main.cpp
 * @brief Простой симулятор: PID + линейный объект. Выводит CSV в stdout.